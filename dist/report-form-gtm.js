class A extends Error{constructor(r){super(r),this.name="AssertionError"}}const L=(e,r,n)=>{if(e==null||Number.isNaN(e)||n)throw new A(r);return e},b=(e,r)=>L((r||document).querySelector(e),`Element: ${e} was not found!`);var g;function h(e){return{lang:e?.lang??g?.lang,message:e?.message,abortEarly:e?.abortEarly??g?.abortEarly,abortPipeEarly:e?.abortPipeEarly??g?.abortPipeEarly}}var q;function I(e){return q?.get(e)}var M;function O(e){return M?.get(e)}var D;function G(e,r){return D?.get(e)?.get(r)}function V(e){const r=typeof e;return r==="string"?`"${e}"`:r==="number"||r==="bigint"||r==="boolean"?`${e}`:r==="object"||r==="function"?(e&&Object.getPrototypeOf(e)?.constructor?.name)??"null":r}function m(e,r,n,t,i){const u=i&&"input"in i?i.input:n.value,s=i?.expected??e.expects??null,f=i?.received??V(u),a={kind:e.kind,type:e.type,input:u,expected:s,received:f,message:`Invalid ${r}: ${s?`Expected ${s} but r`:"R"}eceived ${f}`,requirement:e.requirement,path:i?.path,issues:i?.issues,lang:t.lang,abortEarly:t.abortEarly,abortPipeEarly:t.abortPipeEarly},l=e.kind==="schema",o=i?.message??e.message??G(e.reference,a.lang)??(l?O(a.lang):null)??t.message??I(a.lang);o!==void 0&&(a.message=typeof o=="function"?o(a):o),l&&(n.typed=!1),n.issues?n.issues.push(a):n.issues=[a]}function v(e){return{version:1,vendor:"valibot",validate(r){return e["~run"]({value:r},h())}}}var N=/^[\w+-]+(?:\.[\w+-]+)*@[\da-z]+(?:[.-][\da-z]+)*\.[a-z]{2,}$/iu;function k(e){return{kind:"validation",type:"email",reference:k,expects:null,async:!1,requirement:N,message:e,"~run"(r,n){return r.typed&&!this.requirement.test(r.value)&&m(this,"email",r,n),r}}}function E(e,r){return{kind:"validation",type:"min_length",reference:E,async:!1,expects:`>=${e}`,requirement:e,message:r,"~run"(n,t){return n.typed&&n.value.length<this.requirement&&m(this,"length",n,t,{received:`${n.value.length}`}),n}}}function w(e){return{kind:"transformation",type:"transform",reference:w,async:!1,operation:e,"~run"(r){return r.value=this.operation(r.value),r}}}function p(){return{kind:"transformation",type:"trim",reference:p,async:!1,"~run"(e){return e.value=e.value.trim(),e}}}function T(e,r,n){return typeof e.fallback=="function"?e.fallback(r,n):e.fallback}function _(e,r,n){return typeof e.default=="function"?e.default(r,n):e.default}function $(e,r){return{kind:"schema",type:"object",reference:$,expects:"Object",async:!1,entries:e,message:r,get"~standard"(){return v(this)},"~run"(n,t){const i=n.value;if(i&&typeof i=="object"){n.typed=!0,n.value={};for(const u in this.entries){const s=this.entries[u];if(u in i||(s.type==="exact_optional"||s.type==="optional"||s.type==="nullish")&&s.default!==void 0){const f=u in i?i[u]:_(s),a=s["~run"]({value:f},t);if(a.issues){const l={type:"object",origin:"value",input:i,key:u,value:f};for(const o of a.issues)o.path?o.path.unshift(l):o.path=[l],n.issues?.push(o);if(n.issues||(n.issues=a.issues),t.abortEarly){n.typed=!1;break}}a.typed||(n.typed=!1),n.value[u]=a.value}else if(s.fallback!==void 0)n.value[u]=T(s);else if(s.type!=="exact_optional"&&s.type!=="optional"&&s.type!=="nullish"&&(m(this,"key",n,t,{input:void 0,expected:`"${u}"`,path:[{type:"object",origin:"key",input:i,key:u,value:i[u]}]}),t.abortEarly))break}}else m(this,"type",n,t);return n}}}function d(e,r){return{kind:"schema",type:"optional",reference:d,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:r,get"~standard"(){return v(this)},"~run"(n,t){return n.value===void 0&&(this.default!==void 0&&(n.value=_(this,n,t)),n.value===void 0)?(n.typed=!0,n):this.wrapped["~run"](n,t)}}}function c(e){return{kind:"schema",type:"string",reference:c,expects:"string",async:!1,message:e,get"~standard"(){return v(this)},"~run"(r,n){return typeof r.value=="string"?r.typed=!0:m(this,"type",r,n),r}}}function y(...e){return{...e[0],pipe:e,get"~standard"(){return v(this)},"~run"(r,n){for(const t of e)if(t.kind!=="metadata"){if(r.issues&&(t.kind==="schema"||t.kind==="transformation")){r.typed=!1;break}(!r.issues||!n.abortEarly&&!n.abortPipeEarly)&&(r=t["~run"](r,n))}return r}}}function z(e,r,n){const t=e["~run"]({value:r},h(n));return{typed:t.typed,success:!t.issues,output:t.value,issues:t.issues}}const S="#wf-form-Multi-Step---Report-Damage",R=e=>!!e.querySelector('[name="g-recaptcha-response"]'),F=e=>y($({Voornaam:y(c(),p()),Achternaam:y(c(),p()),Gegevens:d(y(c(),p())),Telefoonnummer:d(y(c(),p())),"E-mail-adres":y(c(),p(),k()),"g-recaptcha-response":e?y(c(),p(),E(10)):d(c())}),w(r=>({email:r["E-mail-adres"],phone_number:r.Telefoonnummer,address:{first_name:r.Voornaam,last_name:r.Achternaam}})));let P=!1;const C=e=>{P||(P=!0,window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"form_submit","gtm.elementId":S,user_data:e}))},H=()=>{const e=b(S),r=Array.from(e.querySelectorAll("input, select, textarea")),n=b("[type=submit]",e);n.type="button";const t=R(e),i=F(t);let u=!1,s;n.addEventListener("click",()=>{if(u)return;for(const o of r)if(!o.checkValidity()){o.reportValidity();return}const f=new FormData(e),a=Object.fromEntries(f.entries()),l=z(i,a);if(!l.success){const o=l.issues;if(t&&o.find(j=>j.path?.some(x=>x.key==="g-recaptcha-response"))){alert("Please confirm you\u2019re not a robot.");return}console.error(JSON.stringify(o));return}s=l.output,n.type="submit",u=!0,n.click()}),e.addEventListener("submit",()=>{if(!s)throw new Error("Somthing went wrong with GTM Target Data!");C(s)})};H();
