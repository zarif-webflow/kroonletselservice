import"./chunks/chunk-Y6SLVHK3.js";var d;function w(e){return{lang:e?.lang??d?.lang,message:e?.message,abortEarly:e?.abortEarly??d?.abortEarly,abortPipeEarly:e?.abortPipeEarly??d?.abortPipeEarly}}var q;function T(e){return q?.get(e)}var M;function P(e){return M?.get(e)}var N;function S(e,n){return N?.get(e)?.get(n)}function R(e){let n=typeof e;return n==="string"?`"${e}"`:n==="number"||n==="bigint"||n==="boolean"?`${e}`:n==="object"||n==="function"?(e&&Object.getPrototypeOf(e)?.constructor?.name)??"null":n}function h(e,n,r,i,t){let u=t&&"input"in t?t.input:r.value,s=t?.expected??e.expects??null,y=t?.received??R(u),l={kind:e.kind,type:e.type,input:u,expected:s,received:y,message:`Invalid ${n}: ${s?`Expected ${s} but r`:"R"}eceived ${y}`,requirement:e.requirement,path:t?.path,issues:t?.issues,lang:i.lang,abortEarly:i.abortEarly,abortPipeEarly:i.abortPipeEarly},f=e.kind==="schema",o=t?.message??e.message??S(e.reference,l.lang)??(f?P(l.lang):null)??i.message??T(l.lang);o!==void 0&&(l.message=typeof o=="function"?o(l):o),f&&(r.typed=!1),r.issues?r.issues.push(l):r.issues=[l]}function m(e){return{version:1,vendor:"valibot",validate(n){return e["~run"]({value:n},w())}}}var G=/^[\w+-]+(?:\.[\w+-]+)*@[\da-z]+(?:[.-][\da-z]+)*\.[a-z]{2,}$/iu;function k(e){return{kind:"validation",type:"email",reference:k,expects:null,async:!1,requirement:G,message:e,"~run"(n,r){return n.typed&&!this.requirement.test(n.value)&&h(this,"email",n,r),n}}}function g(e,n){return{kind:"validation",type:"min_length",reference:g,async:!1,expects:`>=${e}`,requirement:e,message:n,"~run"(r,i){return r.typed&&r.value.length<this.requirement&&h(this,"length",r,i,{received:`${r.value.length}`}),r}}}function b(e){return{kind:"transformation",type:"transform",reference:b,async:!1,operation:e,"~run"(n){return n.value=this.operation(n.value),n}}}function p(){return{kind:"transformation",type:"trim",reference:p,async:!1,"~run"(e){return e.value=e.value.trim(),e}}}function z(e,n,r){return typeof e.fallback=="function"?e.fallback(n,r):e.fallback}function $(e,n,r){return typeof e.default=="function"?e.default(n,r):e.default}function x(e,n){return{kind:"schema",type:"object",reference:x,expects:"Object",async:!1,entries:e,message:n,get"~standard"(){return m(this)},"~run"(r,i){let t=r.value;if(t&&typeof t=="object"){r.typed=!0,r.value={};for(let u in this.entries){let s=this.entries[u];if(u in t||(s.type==="exact_optional"||s.type==="optional"||s.type==="nullish")&&s.default!==void 0){let y=u in t?t[u]:$(s),l=s["~run"]({value:y},i);if(l.issues){let f={type:"object",origin:"value",input:t,key:u,value:y};for(let o of l.issues)o.path?o.path.unshift(f):o.path=[f],r.issues?.push(o);if(r.issues||(r.issues=l.issues),i.abortEarly){r.typed=!1;break}}l.typed||(r.typed=!1),r.value[u]=l.value}else if(s.fallback!==void 0)r.value[u]=z(s);else if(s.type!=="exact_optional"&&s.type!=="optional"&&s.type!=="nullish"&&(h(this,"key",r,i,{input:void 0,expected:`"${u}"`,path:[{type:"object",origin:"key",input:t,key:u,value:t[u]}]}),i.abortEarly))break}}else h(this,"type",r,i);return r}}}function v(e,n){return{kind:"schema",type:"optional",reference:v,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:n,get"~standard"(){return m(this)},"~run"(r,i){return r.value===void 0&&(this.default!==void 0&&(r.value=$(this,r,i)),r.value===void 0)?(r.typed=!0,r):this.wrapped["~run"](r,i)}}}function c(e){return{kind:"schema",type:"string",reference:c,expects:"string",async:!1,message:e,get"~standard"(){return m(this)},"~run"(n,r){return typeof n.value=="string"?n.typed=!0:h(this,"type",n,r),n}}}function a(...e){return{...e[0],pipe:e,get"~standard"(){return m(this)},"~run"(n,r){for(let i of e)if(i.kind!=="metadata"){if(n.issues&&(i.kind==="schema"||i.kind==="transformation")){n.typed=!1;break}(!n.issues||!r.abortEarly&&!r.abortPipeEarly)&&(n=i["~run"](n,r))}return n}}}function A(e,n,r){let i=e["~run"]({value:n},w(r));return{typed:i.typed,success:!i.issues,output:i.value,issues:i.issues}}var E=class extends Error{constructor(n){super(n),this.name="AssertionError"}},L=(e,n,r)=>{if(e==null||Number.isNaN(e)||r&&!r(e))throw new E(n);return e};var _=(e,n)=>L((n||document).querySelector(e),`Element: ${e} was not found!`);var j="#wf-form-Multi-Step---Report-Damage",F=e=>!!e.querySelector('[name="g-recaptcha-response"]'),V=e=>a(x({Voornaam:a(c(),p()),Achternaam:a(c(),p()),Gegevens:v(a(c(),p())),Telefoonnummer:v(a(c(),p())),"E-mail-adres":a(c(),p(),k()),"g-recaptcha-response":e?a(c(),p(),g(10)):v(c())}),b(n=>({email:n["E-mail-adres"],phone_number:n.Telefoonnummer,address:{first_name:n.Voornaam,last_name:n.Achternaam}}))),D=!1,C=e=>{D||(D=!0,window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"form_submit","gtm.elementId":j,user_data:e}))},X=()=>{let e=_(j),n=Array.from(e.querySelectorAll("input, select, textarea")),r=_("[type=submit]",e);r.type="button";let i=F(e),t=V(i),u=!1,s;r.addEventListener("click",()=>{if(u)return;for(let o of n)if(!o.checkValidity()){o.reportValidity();return}let y=new FormData(e),l=Object.fromEntries(y.entries()),f=A(t,l);if(!f.success){let o=f.issues;if(i&&!!o.find(I=>I.path?.some(O=>O.key==="g-recaptcha-response"))){alert("Please confirm you\u2019re not a robot.");return}console.error(JSON.stringify(o));return}s=f.output,r.type="submit",u=!0,r.click()}),e.addEventListener("submit",()=>{if(!s)throw new Error("Somthing went wrong with GTM Target Data!");C(s)})};X();
