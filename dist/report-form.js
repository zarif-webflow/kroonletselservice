var s=({selector:r,parent:e,log:t="debug"})=>{let o=(e||document).querySelector(r);return o===null?(t===!1||(t==="debug"?console.debug:console.error)(`${t.toUpperCase()}: Element with selector "${r}" not found in ${e!==void 0?"the specified parent element:":"the document."}`,e),null):o};window.wfCustomPageLoadFeatures||(window.wfCustomPageLoadFeatures={});var a=async(r,e)=>{try{let t=await fetch(`${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({formResponseId:r})});if(!t.ok){let n=await t.json();console.error("Error while fetching form data for GTM:",n.error);return}return await t.json().then(n=>n.data)}catch{throw new Error("Something went wrong while fetching form data for Google Tag Manager!")}},i=()=>{let r=s({selector:"[data-api-url]"})?.getAttribute("data-api-url");if(!r){console.error("API URL not found in data-api-url attribute");return}window.addEventListener("message",async e=>{if(e.origin==="https://form.typeform.com"){if(!e.data){console.error("No data in message event from Typeform");return}if(e.data.type==="form-submit"){let t=e.data.responseId;if(!await a(t,r))return}}})};i();
